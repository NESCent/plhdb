<html>
<head>
	<title>dojox.presentation.SlideShow Demo</title>
		
	<script type="text/javascript" src="../../../dojo/dojo.js" djConfig="parseOnLoad:true, isDebug:true"></script>
	<script type="text/javascript" src="../SlideShow.js?foo"></script>
	<script language="JavaScript" type="text/javascript">
		
		//dojo.require("dojox.presentation.SlideShow");
		dojo.require("dojo.parser");

		dojo.addOnLoad(function(){
			var second = dojo.byId('second'); 
			var secondSlideShow = new dojox.presentation.SlideShow(
				{
					id:'second',
					useNav:true,
					showDialog:true,
					dialogText:" Image: @idx of @end ... ",
					isPausable: true,
					toggleAnimation: "fade",
					transitionInterval: 1000,
					imgWidth:200, 
					imgHeight:200,
					delay:3000,		
					imgUrlBase:'images/',
					src:'1.jpg',
					imgUrls:['tile-1.png','tile-2.png','tile-3.png','tile-4.png','tile-5.png','tile-6.png']
				},second);
		}); // dojo.addOnLoad

		function popImg(widgetid) {
			var meme = dijit.byId(widgetid).removeImgUrl();
			console.debug(meme); 
		}
		
		// do I need this?
		// Array.shuffle( deep ) - Randomly interchange elements
		Array.prototype.shuffle = function( b ) {
			 var i = this.length, j, t;
			 while( i ) {
			  j = Math.floor( ( i-- ) * Math.random() );
			  t = b && typeof this[i].shuffle!=='undefined' ? this[i].shuffle() : this[i];
			  this[i] = this[j];
			  this[j] = t;
			 }
			 return this;
		};

		function newGallery(widgetid) {
			var newGallery = [ 'tile-2.png', 'tile-4.png', 'tile-6.png', 'tile-8.png' ];
			var t = dijit.byId(widgetid);
			t.setGallery(newGallery);
		}

		function shuffleurl(widgetid) {
			var t = dijit.byId(widgetid);
			console.debug(t.imgUrls); 
			t.shuffleImgUrls();
			console.debug(t.imgUrls); 
			}	

		function addImgtoStack(widgetid) {
			ini++; 
			dijit.byId(widgetid).addImgUrl('tile-'+ini+'.png');
		}
		
		var ini = 3; 

	</script>
		
	<style type="text/css">
		@import "../../../dojo/resources/dojo.css";
	        @import "../../../dijit/themes/tundra/tundra.css";
       		@import "../../../dijit/tests/css/dijitTests.css";
		@import "../resources/SlideShow.css?foo1";

		.dojoContentPane { padding: 1em; }
	        body { margin: 0px; padding: 20px; }

		#second { clear:both; } 

	</style>

</head>
<body class="tundra"> 

	<h3>dojox.presentation.SlideShow</h3>

	<div class="contBox" stye="float:left;">
		<div id="second" /></div> 	

		<p>can add images to stack, remove images from slideshow, and randomize playlist order, switch direction:<br />
		<a href="javascript:dijit.byId('second').togglePaused();">toggle pause</a> | 
		<a href="javascript:addImgtoStack('second');">plus</a> |
		<a href="javascript:popImg('second');">minus</a> |
		<a href="javascript:shuffleurl('second');">shuffle</a> |
		<a href="javascript:dijit.byId('second').toggleDirection();">toggle direction</a> |
		<a href="javascript:dijit.byId('second').showNav();">show nav</a> |
		<a href="javascript:dijit.byId('second').hideNav();">hide nav</a> | 
		<a href="javascript:newGallery('second');">load new gallery</a>
		</p>
	
	</div>

	<div id="floater" style="float:right; position:absolute; top:50px; right:50px; ">

	<h3>dojox.presentation.SlideShow (markup)</h3>
		
		<img id="markupSlideShow" dojoType="dojox.presentation.SlideShow"
			imgUrlBase="images/"
			imgUrls="tile-7.png,tile-6.png,tile-5.png"
			transitionInterval="1000"
			delay="2000"
			useNav="false"
			pausable="true"
			showDialog="true"
			src="images/tile-7.png"
			imgWidth="150" imgHeight="150"
		/ >	
		
	</div>
        <div style="clear:both"></div>
	<a href="../SlideShow.js">source</a>
	</body>
</html>
